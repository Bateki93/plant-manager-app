<header>
  <div class="container">
    <h1>{{ title }}</h1>
    <nav>
      <a [routerLink]="['/plants']">
        Liste des Plantes
        <!-- Badge de notification utilisant la classe CSS '.badge' -->
        <span *ngIf="plantsDue$ | async as plants" class="badge-position">
          <span *ngIf="plants.length > 0" class="badge">
            {{ plants.length }}
          </span>
        </span>
      </a>
      <!-- SÃ©parateur visuel si nÃ©cessaire (basÃ© sur votre CSS) -->
      <span> | </span> 
      <a [routerLink]="['/add']">
        Ajouter une Plante
      </a>
    </nav>
  </div>
</header>

<main>
  <!-- ALERTE ET LISTE DÃ‰TAILLÃ‰E DES PLANTES Ã€ ARROSER -->
  <ng-container *ngIf="plantsDue$ | async as plants">
    
    <!-- Alerte affichÃ©e S'IL y a des plantes dues (plants.length > 0) -->
    <div *ngIf="plants.length > 0" 
         class="alert-container alert-warning" 
         role="alert">
      
      <div class="alert-header">
        <p class="font-bold text-xl">
          ğŸš¨ Des plantes ont besoin d'Ãªtre arrosÃ©es immÃ©diatement !
        </p>
      </div>

      <!-- Liste des plantes Ã  arroser (affichage de la liste complÃ¨te) -->
      <h3 class="alert-subtitle">DÃ©tails ({{ plants.length }} Ã  arroser) :</h3>
      <ul class="alert-list">
        <li *ngFor="let plant of plants">
          ğŸ’§ **{{ plant.name }}**
        </li>
      </ul>

      <p class="alert-footer">
        <a [routerLink]="['/plants']">
          Voir toutes les plantes
        </a> pour mettre Ã  jour le statut d'arrosage.
      </p>

    </div>

    <!-- Message de succÃ¨s affichÃ© si AUCUNE plante n'est due (plants.length === 0) -->
    <div *ngIf="plants.length === 0" 
         class="alert-container alert-success" 
         role="alert">
      <p class="font-bold">ğŸ¥³ Mission Accomplie !</p>
      <p>Toutes vos plantes sont bien hydratÃ©es. Continuez ainsi !</p>
    </div>

  </ng-container>

  <!-- Zone oÃ¹ les composants de route sont affichÃ©s -->
  <router-outlet></router-outlet>
</main>
